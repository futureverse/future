<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A Future for R: How the Future Framework is Validated • future</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A Future for R: How the Future Framework is Validated">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3EQSD9FR"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3EQSD9FR');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">future</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.69.0-9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/future-1-overview.html">A Future for R: A Comprehensive Overview</a></li>
    <li><a class="dropdown-item" href="../articles/future-2-output.html">A Future for R: Text and Message Output</a></li>
    <li><a class="dropdown-item" href="../articles/future-2b-backend.html">A Future for R: Available Future Backends</a></li>
    <li><a class="dropdown-item" href="../articles/future-3-topologies.html">A Future for R: Future Topologies</a></li>
    <li><a class="dropdown-item" href="../articles/future-4-issues.html">A Future for R: Common Issues with Solutions</a></li>
    <li><a class="dropdown-item" href="../articles/future-4-non-exportable-objects.html">A Future for R: Non-Exportable Objects</a></li>
    <li><a class="dropdown-item" href="../articles/future-5-startup.html">A Future for R: Controlling Default Future Strategy</a></li>
    <li><a class="dropdown-item" href="../articles/future-6-future-api-backend-specification.html">A Future for R: Future API Backend Specification</a></li>
    <li><a class="dropdown-item" href="../articles/future-7-for-package-developers.html">A Future for R: Best Practices for Package Developers</a></li>
    <li><a class="dropdown-item" href="../articles/future-8-how-future-is-validated.html">A Future for R: How the Future Framework is Validated</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.futureverse.org/"><span class="fa fas fa-home"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Packages</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-packages">
<li><a class="external-link dropdown-item" href="https://doFuture.futureverse.org">doFuture (map-reduce)</a></li>
    <li><a class="external-link dropdown-item" href="https://furrr.futureverse.org">furrr (map-reduce)</a></li>
    <li><a class="dropdown-item" href="https://future.futureverse.org">future</a></li>
    <li><a class="external-link dropdown-item" href="https://future.apply.futureverse.org">future.apply (map-reduce)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.batchtools.futureverse.org">future.batchtools (backend)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.callr.futureverse.org">future.callr (backend)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.mirai.futureverse.org">future.mirai (backend)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.tests.futureverse.org">future.tests</a></li>
    <li><a class="external-link dropdown-item" href="https://globals.futureverse.org">globals</a></li>
    <li><a class="external-link dropdown-item" href="https://listenv.futureverse.org">listenv</a></li>
    <li><a class="external-link dropdown-item" href="https://parallelly.futureverse.org">parallelly</a></li>
    <li><a class="external-link dropdown-item" href="https://progressr.futureverse.org">progressr</a></li>
    <li><a class="external-link dropdown-item" href="https://BiocParallel.FutureParam.futureverse.org">BiocParallel.FutureParam (experimental)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.tools.futureverse.org">future.tools (experimental)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.mapreduce.futureverse.org">future.mapreduce (experimental)</a></li>
    <li><a class="external-link dropdown-item" href="https://marshal.futureverse.org">marshal (experimental)</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://cloud.r-project.org/package=future"><span class="fa fab fa-r-project"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/futureverse/future/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A Future for R: How the Future Framework is Validated</h1>
                        <h4 data-toc-skip class="author">Henrik
Bengtsson</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/futureverse/future/blob/HEAD/vignettes/future-8-how-future-is-validated.md.rsp" class="external-link"><code>vignettes/future-8-how-future-is-validated.md.rsp</code></a></small>
      <div class="d-none name"><code>future-8-how-future-is-validated.Rmd</code></div>
    </div>

    
    
<p>Since correctness and reproducibility is essential to all data
processing, validation is a top priority and part of the design and
implementation throughout the future ecosystem. Several types of testing
are performed.</p>
<p>First, all the essential core packages part of the future framework,
<strong><a href="https://future.futureverse.org">future</a></strong>,
<strong><a href="https://parallelly.futureverse.org" class="external-link">parallelly</a></strong>,
<strong><a href="https://globals.futureverse.org" class="external-link">globals</a></strong>,
and <strong><a href="https://listenv.futureverse.org" class="external-link">listenv</a></strong>, implement a
rich set of package tests. These are validated regularly across the
wide-range of operating systems (Linux, macOS, and MS Windows) and R
versions available on CRAN, on continuous integration (CI) services
(GitHub Actions), an on <a href="https://r-hub.github.io/rhub/" class="external-link">R-hub</a>. The core packages are
also tested with non-English locale settings, including Korean,
Simplified Chinese (China) and Traditional Chinese (Taiwan). They are
also verified to work with single-core and dual-core machines, which may
be the case for some free, cloud services that provide R.</p>
<p>Second, for each new release, these packages undergo full
reverse-package dependency checks using <strong><a href="https://github.com/r-lib/revdepcheck" class="external-link">revdepcheck</a></strong>. As
of May 2025, the <strong>future</strong> package is tested against ~450
direct reverse-package dependencies available on CRAN and Bioconductor.
These checks are performed on Linux with both the default settings and
when forcing tests to use multisession workers (SOCK clusters), which
further validates that globals and packages are identified correctly. We
also test with <code>NOT_CRAN = true</code>, to further increase the
test coverage.</p>
<p>Third, a suite of <em>Future API conformance tests</em> available in
the <strong><a href="https://future.tests.futureverse.org" class="external-link">future.tests</a></strong>
package validates the correctness of all future backends. Any new future
backend developed, must pass these tests to comply with the <em>Future
API</em>. By conforming to this API, the end-user can trust that the
backend will produce the same correct and reproducible results as any
other backend, including the ones that the developer have tested on.
Also, by making it the responsibility of the developer to assert that
their new future backend conforms to the <em>Future API</em>, we relieve
other developers from having to test that their future-based software
works on all backends. It would be a daunting task for a developer to
validate the correctness of their software with all existing backends.
Even if they would achieve that, there may be additional third-party
future backends that they are not aware of, that they do not have the
possibility to test with, or that yet have not been developed.</p>
<p>Fourth, since <strong><a href="https://CRAN.R-Project.org/package=foreach" class="external-link">foreach</a></strong>
is used by a large number of essential CRAN packages, it provides an
excellent opportunity for supplementary validation. Specifically, we
dynamically tweak the examples of <strong><a href="https://CRAN.R-Project.org/package=foreach" class="external-link">foreach</a></strong>
and popular CRAN packages <strong><a href="https://CRAN.R-Project.org/package=caret" class="external-link">caret</a></strong>,
<strong><a href="https://CRAN.R-Project.org/package=glmnet" class="external-link">glmnet</a></strong>,
<strong><a href="https://CRAN.R-Project.org/package=NMF" class="external-link">NMF</a></strong>,
<strong><a href="https://CRAN.R-Project.org/package=plyr" class="external-link">plyr</a></strong>, and
<strong><a href="https://CRAN.R-Project.org/package=TSP" class="external-link">TSP</a></strong> to use
the <strong><a href="https://doFuture.futureverse.org" class="external-link">doFuture</a></strong> adaptor.
This allows us to run these examples with a variety of future backends
to validate that the examples produce no run-time errors, which
indirectly validates the backends as well as the <em>Future API</em>. In
the past, these types of tests helped to identify and resolve corner
cases where automatic identification of global variables would fail. As
a side note, several of these foreach-based examples fail when using a
parallel foreach adaptor because they do not properly export globals or
declare package dependencies. The exception is when using the sequential
<em>doSEQ</em> adaptor (default), fork-based ones such as <strong><a href="https://CRAN.R-Project.org/package=doMC" class="external-link">doMC</a></strong>, or the
generic <strong><a href="https://doFuture.futureverse.org" class="external-link">doFuture</a></strong>, which
supports any future backend and relies on the future framework for
handling globals and packages(*)</p>
<p>Lastly, analogously to above reverse-dependency checks of each new
release, CRAN and Bioconductor continuously run checks on all these
direct, but also indirect, reverse dependencies, which further increases
the validation of the <em>Future API</em> and the future ecosystem at
large.</p>
<p>(*) There is a plan to update <strong><a href="https://CRAN.R-Project.org/package=foreach" class="external-link">foreach</a></strong>
to use the exact same static-code-analysis method as the <strong><a href="https://future.futureverse.org">future</a></strong> package use
for identifying globals. As the maintainer of the future framework, I
collaborate with the maintainer of the <strong><a href="https://CRAN.R-Project.org/package=foreach" class="external-link">foreach</a></strong>
package to implement this.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9007.</p>
</div>

    </footer>
</div>





  </body>
</html>
